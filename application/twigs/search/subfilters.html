{% set cols = 3 %}
{% set rows = (category_childs_elements|length/cols)|round %}
{% set i = 0 %}
<div class="subcategories-cont module subcat-search">
	<div class="row">
		{% for col in 0..cols %}
			<div class="col-md-{{ category_childs_elements_colsize ? category_childs_elements_colsize : 2 }}">
				<ul>
				{% for element in category_childs_elements|slice(i, rows) %}
					{% set count = link_counters[s_host ~ '/' ~ category_url ~ '/' ~ element.url] %}
					<li>
						<div>
							<a href="{{ url(category_url ~ '/' ~ element.url) }}" title="{{element.title}}" data-weight="{{ element.wight }}">{{element.title}}</a>
							{% if count > 0 %}
								<span class="count">{{count}}</span>
							{% endif %}
						</div>
					</li>
				{% endfor %}
				</ul>
			</div>
			{% set i = i + rows %}
		{% endfor %}
	</div>
</div>
<script type="text/javascript">
	
	new Yarmarka.UI.Columns.OrderedHeight({ 
		el: '.subcategories-cont.module.subcat-search', 
		elementSelector: 'li>div', 
		forceOneColumnMobile: false,
		enableAutoCollapse: true,
		autoCollapseOptions: {
			allowedHeight: 100
		}
	});

</script>